<template>
  <div class="scrollCon">
    <div class="comm clear">
      <div class="informationWrapper flex padding-top-10" :key="index" v-for="(item,index) in list">
        <router-link to="{name:'AlbumDetail',params:{concertId: item.fcId}}" class="concertBgBox">
          <img :src="$rootUrl+item.fcImg" class="concertImg">
          <div class="concert-dec">
            <div class="itemInf-name padding-top-140">{{item.fcTitle}}</div>
            <div class="itemInf-txt concert-margin">{{item.fcAddress}}-{{item.fcVenue}}</div>
            <div class="itemInf-time">{{item.fcTime|dateFormat}}</div>
          </div>
        </router-link>
      </div>
    </div>
  </div>
</template>

<script>
    import {formatDate} from "../../utils/date";
    export default {
        name: "Concert",
        data() {
            return {
                list: [],
                current: 1,
                display: 10
            }
        },
        watch: {
            $route(to, from) {
                console.log(to);
            }
        },
        methods: {
            // seeShare(){
            //     let routeUrl = this.$router.resolve({
            //         path: "/AlbumDetail",
            //         query: {albumId:96}
            //     });
            //     window.open(routeUrl.href, '_blank');
            // }
        },
        created() {
            this.$axios({
                method: "get",
                url: `${this.$baseURL}/concert/listAjax`,
            })
                .then((response) => {
                    // console.log(response)
                    this.list = response.data.data.records;
                })
                .catch((error) => {
                    console.log(error);
                });
        },
        filters: {
            dateFormat(time) {
                var date = new Date(time);
                return formatDate(date, "yyyy-MM-dd");
            }
        }

    }
</script>

<style scoped src="../../../static/css/concert.css"/>
<style scoped src="../../../static/css/comm.css"/>
